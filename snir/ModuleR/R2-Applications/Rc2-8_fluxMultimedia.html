<!DOCTYPE html>

<html 
	data-module="R"
	data-pagetype="Chapitre"
	data-modulepartnumber="2"
	data-pagenumber="VIII"
	data-pageState="travaux"
	data-pageheadtitle="Flux multimédia"
	data-pagefulltitle="Les flux multimédia  –  Téléphonie, etc."
	data-authorname="François GIRAULT"
	data-authormail="francois.girault@ac-versailles.fr"
	lang="fr">

<script src="../../js/operateData.js"></script>

<head> 
	<meta charset="utf-8">
	<script src="../../js/makeHead.js"></script>
</head>

<body>

<nav id="navPannel" style="display: block">
	<script src="../../js/makeNavPannel.js"></script>
</nav>

<div id="mainFrame">
  
<header class="band">
  <script src="../../js/makeHeader.js"></script>
</header>	

<div id="scrollingFrame">

<footer class="band">
	<script src="../../js/makeFooter.js"></script>
</footer>

<section>

<div id="mainTitle">
	<script src="../../js/makeTitle.js"></script>
</div>






<div class="exergue" style="display:inline-block">

<div style="display: inline-block;">
	<img class="top-right" src="../img/neuf-box-carte-wifi.png" width="300px" style="margin-top: 1.5em">
<p class="square"> Dès le début des années 2000 sont apparus divers <strong class="title">services de flux multimédia</strong> sur les réseaux informatiques : <strong class="specialLB">téléphonie</strong> et <strong class="specialLB">visiophonie</strong>, <strong class="specialLB">web radio</strong> et <strong class="specialLB">web télévision</strong>, etc. Ils ont été rendus possibles grâce aux <strong>nouvelles technologies de connexion</strong> à l'Internet, dites « <strong class="pros">haut débit</strong> » à l'époque – liaison <strong><em class="sigle">ADSL</em></strong>, environ <em class="bold">512 kbit/s</em> (cf. par exemple en photo ci‑contre la <em class="mark">Neuf Box</em> 2003 avec carte <em class="mark">Wi‑Fi</em> rapportée <a class="external" href="https://www.tomsguide.fr/lhistoire-des-box-adsl-en-france/5" target="_BLANK"></a>). Auparavant, un <strong>modem « <em class="sigle">56K</em></strong> », avec un <strong class="cons">débit 10 fois plus faible</strong> aurait occasionnés des <strong class="warning">temps de latence insupportables</strong> dans la transmissions des sons et a fortiori des images.  </p>
</div><!-- display -->

<div style="display: inline-block;">
	<img class="top-right" src="../img/freebox-revolution-free.png" width="300px" style="margin-top: 0.5em">
<p> Pendant la décennie qui a suivi, les <strong>réseaux informatiques</strong> et <strong>téléphoniques</strong> ont continué à cohabiter physiquement, tant chez les clients (particuliers, entreprises, organismes, etc.) que chez les fournisseurs de services (réseaux d'accès et de transport). Mais avec l'<strong class="pros">accroissement des performances en débits</strong> et le déploiement des réseaux d'accès et de transport à <strong>fibre optique</strong>, on a aussi assisté au <strong class="title">déclin inexorable des réseaux téléphoniques</strong>, dont les services ont été peu à peu <strong class="defin">intégrés dans les réseaux informatiques</strong>. </p>

<p> Très logiquement, cette <strong class="title">intégration</strong> a connu un développement industriel important (<em class="english">Computer telephony integration</em> ou <strong><em class="sigle">CTI</em></strong> <a class="external" href="https://fr.wikipedia.org/wiki/Couplage_téléphonie-informatique" target="_BLANK">W</a>) avec à la fois une <strong class="defin">motivation économique</strong> (gain de place, de câbles, de prises…), mais aussi <strong class="defin">technologique</strong> (moins de normes et de protocoles, opération et gestion dématérialisée, équipements interopérables – qu'ils soient fixes ou mobiles…).  </p>
</div><!-- display -->

<p class="square"> De nos jours, on emploie communément le sigle <strong class="title">VoIP</strong> <a class="external	" href="https://fr.wikipedia.org/wiki/Voix_sur_IP" target="_BLANK">W</a> – qui signifie <strong>voice over</em> <em class="sigle">IP</em></strong> – pour désigner les <strong>technologies informatiques</strong> permettant la <strong class="defin">transmission de la voix</strong> – et plus généralement des <strong class="defin">signaux audio et vidéo</strong> sur les réseaux à pile de protocoles <strong><em class="sigle">TCP/IP</em></strong>. </p>

<div style="display: inline-block;">
	<img class="top-right" src="../img/softphone.png" width="300px" style="margin-top: 0.5em">
<p> Il ne s'agit pas seulement de protocoles, mais d'un ensemble de <strong class="specialLB">composant logiciels</strong>, dont certains sont spécifiquement dédiés aux applications téléphoniques – avec notamment ce qu'on appelle un <strong>softphone</strong>, c'est‑à‑dire une application qui émule un téléphone <em class="sigle">IP</em> sur ordinateur. </p>
</div><!-- display -->

<div style="display: inline-block;">
  <img class="top-right" src="../img/IPBX-BlueSteel.png" width="400px" style="margin-top: 0.5em">
<p> Ces technologies logicielles peuvent également être associées à des <strong class="specialLB">équipements matériels</strong> : en particulier, on a l'<strong>autocommutateur</strong> <strong><em class="sigle">IPBX</em></strong> qui vient se substituer au traditionnel central téléphonique qui équipait les grands locaux professionnels, ou encore le téléphone <strong><em class="sigle">IP</em></strong> « physique », etc. – cf. la photo ci‑contre. </p>
</div><!-- display -->

<p> Il existe désormais une <strong class="title">forte demande en services multimédia</strong> sur les réseaux informatiques : </p>

<ul>
	<li> dans le <strong class="specialLB">monde professionnel</strong>, bien évidemment pour la <strong class="defin">téléphonie</strong> proprement dite mais aussi, avec l'essor du travail à distance, pour les <strong>visioconférences</strong>, ainsi que la <strong>vidéo‑surveillance</strong> ; </li>

	<li> chez les <strong class="specialLB">particuliers</strong>, notamment via les logiciels de <strong class="defin">messagerie instantanée</strong> (<em class="mark">Facebook</em>, <em class="mark">Whatsapp</em>, <em class="mark">Viber</em>, <em class="mark">Instagram</em>, <em class="mark">Tik-Tok</em>…), mais aussi dans le secteur de la <strong>domotique</strong> (commande vocale, vidéo‑surveillance).  </li>
</ul>

<p  class="square"> Au regard de ces évolutions majeures, tout technicien en informatique doit avoir des <strong class="defin">bases en VoIP</strong>. Dans cet <strong class="title">objectif de formation</strong>, mais au regard de la complexité de la thématique, le présent chapitre ne propose qu'un <strong>panorama superficiel</strong>, avec quelques <strong>approfondissements spécifiques</strong> : </p>
<ul>
	<li> une première section est consacrée aux <strong class="specialLB">généralités</strong> relatives aux <strong>technologies VoIP</strong>, avec en particulier la présentation de la notion de <strong class="defin">codec</strong> ;   </li>

	<li> une deuxième section est consacrée aux <strong>technologies matérielles et logicielles</strong> spécifiques à la <strong class="specialLB">téléphonie IP</strong>.  </li>
</ul>

</div><!-- exergue -->








<h2> Généralités </h2>



<h3> Processus général de la <em class="mark">VoIP</em>  –  notion de session</h3>



<div class="complement">
<p> Comme pour les signaux audio en général, la <strong class="title">transmission des signaux vocaux</strong> sous forme d'un flux de données <strong class="title">VoIP</strong> passe par <strong class="defin">plusieurs étapes spécifiques</strong> :  </p>
  <img class="top-left" src="../img/VoIPprocess.png" style="min-width: 1000px">
<ul>
	<li> en premier lieu, l'<strong class="defin">acquisition</strong> des ondes sonores par un <strong>microphone</strong> et la <strong class="defin">conversion analogique numérique</strong> (échantillonnage et quantification), avec à la clef d'éventuelles opérations de traitement (amplification, filtrage) pour obtenir un <strong class="pros">signal numérique satisfaisant</strong> ; </li>

	<li> l'<strong class="defin">encodage</strong> et la <strong class="defin">compression</strong> du signal numérique pour <strong class="pros">diminuer la bande passante</strong> nécessaire à la transmission du signal ; </li>

	<li> l'<strong class="defin">encapsulation</strong> du signal numérique compressé en paquets,  générant une séquence de <strong class="specialO"><em class="sigle">PDU</em></strong> routables sur un <strong>réseau <em class="sigle">IP</em></strong> ;  </li>

  <li> l'éventuelle <strong class="defin">modulation‑démodulation</strong> nécessaire pour la transmission sur un réseau longue distance ; </li>

  <li> après réception, la <strong class="defin">remise en ordre</strong> des <strong class="specialO"><em class="sigle">PDU</em></strong>, puis leur extraction pour reconstituer le signal numérique compressé ; </li>

  <li> la <strong class="defin">décompression</strong> et le <strong class="defin">décodage</strong> de ce signal pour reconstituer le signal numérique vocal ; </li>

  <li> la <strong class="defin">conversion numérique analogique</strong> du signal numérique et sa <strong class="defin">restitution</strong> sous forme d'ondes sonores par un <strong>haut‑parleur</strong>. </li> 
</ul>
<p> En <strong>VoIP</strong>, on appelle <strong class="title">session</strong> l'ensemble des <strong class="defin">processus de communication</strong> mis en œuvre durant un <strong>appel</strong> entre deux utilisateurs (voire plus). </p>
</div><!-- complement -->

<div class="important" style="display: inline-block;">
	<img class="top-right" src="../img/coucheApplication.png" width="180px" style="margin-top:1em">
<p> Pour procurer une <strong class="pros">qualité de service suffisante</strong>, il est nécessaire de <strong class="title">cadencer l'émission‑réception</strong> des <strong class="specialO"><em class="sigle">PDU</em></strong> à l'aide d'un <strong class="specialG">protocole applicatif temps‑réel</strong> – donc, opérant au dessus des protocoles de transport <strong><em class="sigle">TCP</em></strong> et <strong><em class="sigle">UDP</em></strong>. En réponse à cette nécessité, on utilise principalement <strong class="specialLB"><em class="sigle">RTP</em></strong> <a class="external" href="https://fr.wikipedia.org/wiki/Real-time_Transport_Protocol" target="_BLANK">W</a> – pour <strong class="specialLB">real‑time transport protocol</strong>. </p>

<p> Il est également nécessaire de <strong class="title">gérer les sessions</strong> d'appels (<strong>signalisation</strong>  et <strong>clôture</strong>) par un autre <strong class="specialG">protocole applicatif spécifique</strong>, typiquement <strong class="specialLB"><em class="sigle">SIP</em></strong> <a class="external" href="https://fr.wikipedia.org/wiki/Session_Initiation_Protocol" target="_BLANK">W</a> – pour <strong class="specialLB">session initiation protocol</strong>. </p>
</div><!-- important -->



<h3 id="codecs"> Codage et décodage des signaux vocaux </h3>



<div class="important">
<p> Du fait des contraintes de la transmission en temps‑réel, ce sont principalement les opérations de <strong>compression</strong> et <strong>décompression</strong> qui imposent les <strong class="cons">limites de qualité</strong> du signal audio en <strong class="defin">téléphonie numérique</strong>. Ces opérations sont implémentées par des composants logiciels appelés <strong class="title">codecs</strong> <a class="external" href="https://fr.wikipedia.org/wiki/Codec" target="_BLANK">W</a> – mot‑valise issu de l'anglais <strong>coder‑decoder</strong>.   </p>
</div><!-- important -->


<div class="expert">
<h4> Évolution des exigences de qualité pour les signaux vocaux </h4>


<div style="display: inline-block;">
	<img class="top-right" src="../img/voixFrequences.jpg" width="200px" style="margin-top: 0.5em">
<p> On rappelle que les <strong class="title">ondes sonores audibles</strong> vont de <em class="bold">20 Hz</em> à <em class="bold">20 kHz</em> pour un enfant, mais <strong>seulement</strong> <em class="bold">12 kHz</em> pour un adulte. Quant aux signaux sonores générés par la <strong class="title">voix</strong>, ils présentent un <strong class="defin">spectre</strong> de fréquences <strong>encore plus réduit</strong> : leurs fréquences fondamentales s'échelonnent entre <em class="bold">60 Hz</em> et <em class="bold">1500 Hz</em>, avec des harmoniques dépassant très rarement <em class="bold">10 kHz</em>. </p>
</div><!-- display -->

<div style="display: inline-block;">
	<img class="top-right" src="../img/voixTelephone.jpg" width="200px" style="margin-top: 0.0em">
<p> Dans le cadre d'une <strong class="title">conversation téléphonique</strong> transmise en <strong class="defin">technologie analogique</strong> « ancienne » (via le réseau <em class="sigle">RTC</em>), il était d'usage de se contenter d'un spectre compris entre <em class="bold">200 Hz</em> et <em class="bold">3,4 kHz</em>, tout à fait <strong class="pros">suffisant pour restituer les paroles</strong> de façon intelligible, mais avec quand même une <strong class="cons">altération sensible du timbre</strong>. Cette limitation impactait toute la technologie associée (microphones et haut‑parleurs des combinés téléphonique, câbles de transmission, filtres…) : en effet, à quoi bon produire un téléphone Hi‑Fi si les signaux sont significativement altérés lors de la transmission.   </p>
</div><!-- display -->

<div style="display: inline-block;">
	<img class="top-right" src="../img/smartphoneCasque.jpg" width="200px" style="margin-top: 0.0em">
<p> En <strong class="title">téléphonie mobile</strong> <strong>3G</strong> et <strong>4G</strong>, on opère maintenant les transmission d'appels vocaux sur un spectre allant jusqu'à <em class="bold">7 kHz</em>. De plus, les <strong>téléphones portables</strong> sont pourvus de <strong class="pros">composants de bien meilleure qualité</strong> (notamment les écouteurs) que les téléphones fixes usuels. En particulier, les smartphones sont, comme les ordinateurs, toujours équipé de composants – <em>carte son</em> ou <em>chipset audio</em> <a class="external" href="https://www.sospc20.com/lexique_informatique/lettre-c.php?ref=69" target="_BLANK"></a> – permettant de gérer une qualité de signaux pour l'<strong class="defin">écoute musicale</strong>, largement supérieure à celle que l'on attend lors d'un appel téléphonique. </p>
</div><!-- display -->
</div><!-- expert -->


<div class="expert">
<h4> Technologie des codecs en <em class="mark">VoIP</em> </h4>


<div class="complement">
<p> La <strong>technologie VoIP</strong> emploie des <strong class="title">codecs</strong> appropriés pour répondre à <strong class="defin">diverses exigences de qualité</strong>, notamment les normes de l'<strong><em class="sigle">UIT‑T</em></strong> <a class="external" href="https://fr.wikipedia.org/wiki/Union_internationale_des_télécommunications#Fonctionnement" target="_BLANK">W</a>. Parmi les codecs normalisés les plus utilisés historiquement en téléphonie, on peut citer : </p>
<div style="display: inline-block;">
	<img class="top-right" src="../img/codecAudio2.png" height="400px" style="padding-top: 0.3em;">
<ul>
	<li> <strong>G.711</strong> <a class="external" href="https://en.wikipedia.org/wiki/G.711" target="_BLANK">W</a> qui opère sur un spectre de fréquences <em class="bold">300 Hz ‑ 3,4 kHz</em>, soit une <strong class="cons">qualité médiocre</strong>, dite <strong class="defin">à bande étroite</strong> (<em class="english">narrow band</em>) ;  </li>

	<li> <strong>G.722</strong> <a class="external" href="https://en.wikipedia.org/wiki/G.722" target="_BLANK">W</a> qui opère sur un spectre de fréquences <em class="bold">50 Hz ‑ 7 kHz</em>, soit une qualité dite « <strong class="pros">voix haute définition</strong> » ou <strong class="defin">à large bande</strong> (<em class="english">large band</em>) ; </li>

	<li> <strong>G.729</strong> <a class="external" href="https://en.wikipedia.org/wiki/G.729" target="_BLANK">W</a> qui impose le <strong class="defin">même spectre</strong> de fréquences que le codec <em class="mark">G.722</em>, mais avec des <strong class="pros">algorithmes plus performants</strong>, donc moins consommateurs de bande passante sur les réseaux… </li>
</ul>
</div><!-- display -->
<p> Le diagramme ci‑dessus permet de positionner ces codec comparativement à ceux employés en <strong>numérisation musicale</strong> stéréophonique (<em class="mark">MP3</em>, <em class="mark">Vogg‑Orbis</em>, etc.) qui opèrent au moins sur le <strong class="pros">spectre complet</strong> des fréquences audibles <em class="bold">20 Hz ‑ 20 kHz</em> mais souffrent de <strong class="cons">délais de traitements rédhibitoires</strong> pour la téléphonie. </p>

</div><!-- complement -->

<div class="important" style="display: inline-block;">
  <img class="top-right" src="../img/logoOpus.png" height="80px" style="padding-top: 0.3em;">
<p> Parmi les formats de codecs récents (2012), <strong class="pros">ouvert</strong> et <strong class="pros">libre de droit</strong>, il faut citer <strong class="title">Opus</strong> <a class="external" href="https://fr.wikipedia.org/wiki/Opus_Interactive_Audio_Codec" target="_BLANK">W</a>, qui est normalisé par l'<strong><em class="sigle">IETEF</em></strong>. <strong class="defin">Adaptatif</strong>, combinant plusieurs algorithmes, ce format permet d'obtenir des <strong class="defin">performance supérieures</strong> à celles de toutes les autres normes existantes. </p>

<p> Son implémentation <strong>libopus</strong> multiplateforme est <strong class="pros">opérationnelle sur tous les systèmes d'exploitation</strong> et employée par de nombreuses applications de communication (<em class="mark">Discord</em>, <em class="mark">Whatsapp</em>…)  </p>
</div><!-- important -->


<div class="remarques">
<p class="remarque"> La <strong class="title">qualité des appels téléphoniques</strong> opérés en <strong class="title">VoIP</strong> ne dépend pas que des codecs. Si les <strong>débits de ligne</strong> sont <strong class="cons">insuffisants</strong>, la qualité peut paraître largement inférieure à ce qu'elle était à l'époque des technologies analogiques opérées sur le <strong><em class="sigle">RTC</em></strong>. </p>
</div><!-- remarque -->
</div><!-- expert -->



<h3> Services de téléphonie en VoIP </h3>



<div class="complement" style="display: inline-block;">
  <img class="top-right" src="../img/3CXphones.png" width="400px">
<p> Par rapport à l'« ancien monde » analogique – et même avec des téléphones numériques opérant sur le <strong><em class="sigle">RTC</em></strong> – la technologie <strong class="title">VoIP</strong> apporte l'<strong class="pros">avantage décisif</strong> de coupler la téléphonie sur des <strong>machines puissantes</strong> (postes de travail, smartphones – cf. photo ci‑contre) <strong>connectées en réseau</strong>. Il en résulte :</p>
<ul>
	<li> non seulement une <strong class="defin">meilleure intégration des services</strong> (appels audio et vidéo, historique des communications, annuaire, messagerie, transferts d'appels, conférences, etc.) ; </li>

	<li> mais aussi une <strong class="defin">simplification de l'administration</strong> de ces services, parce que les machines disposent d'<strong class="pros">interfaces homme‑machine puissantes</strong> (claviers et écrans polyvalents, voire tactiles) éventuellement dématérialisées (pages web avec compte associé, permettant de concentrer toutes les informations et synchroniser les différents appareils utilisés par une même personne).  </li>
</ul>
</div><!-- complement -->

<div class="expert">
<p> Cette <strong class="title">évolution</strong> n'est également rendue <strong class="defin">possible</strong> que par l'intégration des services de téléphonie dans la technologie des <strong>réseaux <em class="sigle">TCP/IP</em></strong> avec des <strong class="pros">protocoles libres de droits</strong> (pas de licence à payer pour les éditeurs de logiciels) et <strong class="pros">ouverts</strong> (ce qui facilite grandement les extensions indispensables pour la mise en œuvre de nouveaux services). </p>

<p> <strong class="specialLB">Auparavant</strong>, la <strong>technologie</strong> était en quelques sortes verrouillée par les équipementiers (constructeurs de téléphones et de centraux téléphoniques) qui imposaient leurs <strong class="cons">normes propriétaires</strong> en pratiquant des <strong class="cons">tarifs d'exploitation élevés</strong> aux fournisseurs de services (les opérateurs de téléphonie). Il fallait alors parfois <strong class="warning">plusieurs années</strong> pour voir apparaître à grande échelles de nouvelles fonctionnalités comme le double‑appel ou les redirections. </p>

<p> <strong class="specialLB">Désormais</strong>, on observe un <strong>rythme de développement</strong> <strong class="pros">beaucoup plus rapide</strong>. </p>
</div><!-- expert -->


<h4> Téléphonie usuelle </h4>


<div class="important" style="display: inline-block;">
  <img class="top-right" src="../img/callCenter2.jpg" width="400px">
<p> Dans un <strong>contexte professionnel</strong>, les <strong class="title">services de téléphonie vocale</strong> restent <strong class="defin">indispensables</strong> pour la gestion courante (relation avec les clients, fournisseurs, collaborateurs externes…). </p>

<p> Ils peuvent être <strong class="warning">extrêmement sollicités</strong> si l'activité est précisément orientée dans le <strong>domaine de la communication téléphonique</strong>. C'est notamment le cas pour tout <strong class="specialV">centre d'appel</strong> <a class="external" href="https://fr.wikipedia.org/wiki/Centre_d'appel" target="_BLANK">W</a> (<em class="english">call center</em>). </p>
</div><!-- important -->

<div class="complement">
<p> Les <strong class="title">services usuels de téléphonie</strong> <a class="external" href="https://fr.wikipedia.org/wiki/Téléphonie#Les_fonctions_téléphoniques_principales" target="_BLANK">W</a> sont principalement : </p>
<ul>
	<li> la <strong class="defin">gestion générale des appels</strong> : signalisation, émission et réception en ligne directe ou via un standard, mise en attente, transfert, renvoi, etc. </li>

	<li> les <strong class="defin">conférences téléphoniques</strong> (conversations à plus de deux participants) ; </li>

	<li> le <strong class="defin">standard automatique</strong> à choix multiples par numérotation (le recours à un standardiste n'est alors requis que pour les cas marginaux) ; </li>

	<li> les <strong class="defin">annuaires décentralisés</strong> (chaque personnel gère son propre annuaire) ; </li>

	<li> la <strong class="defin">messagerie vocale</strong>… </li>
</ul>
</div><!-- complement -->

<div style="display: inline-block;">
  <img class="top-right" src="../img/supervisionCRM.png" width="400px">
<p> Tous ces services existaient déjà <strong>avant la VoIP</strong> et sont bien évidemment repris dans cette technologie. Mais en plus, grâce l'informatisation des appels, on peut « facilement » employer toute la puissance de <strong class="title">logiciels de supervision</strong> pour apporter un <strong class="warning">contrôle total</strong> de l'<strong class="defin">activité téléphonique</strong> des personnels d'une entreprise ou organisation. En particulier, on peut mettre en œuvre :  </p>
<ul>
	<li> l'<strong>écoute hiérarchique</strong> des appels et l'<strong>intervention par un tiers</strong> (conseiller, médiateur, etc.) ; </li>

	<li> le <strong>monitoring statistique</strong>, avec des rapports d'activité automatisés… </li>
</ul>
<p> dans le cadre de ce qu'on appelle la <strong class="defin">gestion de la relation client</strong> <a class="external" href="https://fr.wikipedia.org/wiki/Gestion_de_la_relation_client" target="_BLANK">W</a> — en anglais, <strong>customer relationship Management</strong> ou <strong><em class="sigle">CRM</em></strong>. </p>
</div><!-- display -->



<h4> Visiophonie </h4>


<div class="important">
<div style="display: inline-block;">
  <img class="top-right" src="../img/visiophonie2001.jpg" height="200px">
<p> Longtemps cantonnée au stade de « rêve futuriste » mis en scène dans de nombreux films de science‑fiction, même avec le déploiement de téléphones numériques, le <strong>développement</strong> de <strong class="title">visiophonie</strong> est resté <strong class="warning">bloqué</strong> tant qu'il se heurtait à la <strong class="cons">faiblesse des débits</strong> sur les réseaux <strong><em class="sigle">RTC</em></strong>. </p>
</div><!-- display -->
<div style="display: inline-block;">
  <img class="top-right" src="../img/logoSkype.png" height="60px">
<p> En exploitant les réseaux informatiques, la technologie <strong>VoIP</strong> s'est affranchie de cet obstacle. Des <strong class="defin">solutions logicielles</strong> sont apparues très vite, notamment l'application <strong>Skype</strong> <a class="external" href="https://fr.wikipedia.org/wiki/Skype" target="_BLANK">W</a> dès 2003. </p>
</div><!-- display -->
</div><!-- important -->


<div class="complement">
<p> D'un point de vue informatique, la <strong class="title">visiophonie</strong> repose sur les <strong class="defin">mêmes principes</strong> que la <strong>téléphonie</strong> : une fois la connexion établie entre les machines, on installe un <strong>flux de données</strong> compressé par des <strong>codecs</strong> et cadencé par un <strong class="specialG">protocole applicatif temps‑réel</strong>. Les seules <strong class="specialLB">particularités</strong> sont : </p>
<div style="display: inline-block;">
  <img class="top-right" src="../img/codecVideo.png" width="300px">
<ul>
	<li> l'<strong>absence des phases de conversion</strong> analogique numérique et réciproquement, puisque les caméras comme les écrans sont « nativement » des dispositifs numériques ; </li>

	<li> les <strong>algorithmes de codage/décodage</strong> qui sont forcément très différents pour les flux vidéo et audio (<em class="sigle">H.264</em>, <em class="sigle">VP9</em>, <em class="sigle">AV1</em>, etc.). </li>
</ul>
<p> Pour plus de détails sur les <strong>codecs vidéo</strong>, on pourra visionner cette vidéo de la chaîne britannique <em class="mark">Explaining Computers</em> <a class="external" href="https://www.youtube.com/watch?v=-4NXxY4maYc" target="_BLANK">Y</a>. </p>
</div><!-- display -->

<p> Néanmoins, la visiophonie reste encore aujourd'hui un <strong class="title">service d'usage modéré</strong> pour de diverses raisons, notamment : </p>
<ul>
	<li> la <strong class="cons">bande passante consommée</strong> ; le flux vidéo vient s'ajouter au flux audio (en règle générale, on ne fait pas de visiophonie muette) ; </li>

  <div class="expert">
	<div class="nobullet"> (Tant que les réseaux ne seront pas capables de supporter massivement une telle charge, tout accroissement de l'usage sera freiné par la <strong class="cons">déception</strong> qu'il engendre au regard de la qualité d'image et de la fluidité des échanges – au point de rendre finalement préférable la téléphonie seule.) </div> 
	</div><!-- expert -->

	<li> les <strong class="cons">contraintes de présentation</strong> qu'implique ce service sur ses usagers ; dans le cadre du télétravail, la téléphonie seule préserve la sphère intime du domicile, lequel échappe encore aux impératifs de présentation professionnelle (rangement, décoration, etc.).</li>
</ul>
</div><!-- complement -->


<div class="expert">
<p> Depuis le début des années 2010, les <strong class="title">services de visiophonie</strong> sont <strong class="pros">largement disponibles</strong> à travers les <strong class="specialLB">applications personnelles de messagerie</strong> (<em class="mark">Whatsapp</em>, <em class="mark">Viber</em>…) ou de <strong>réseaux sociaux</strong> (<em class="mark">Facebook</em>…), exploitant le fait qu'un smartphone dispose déjà de tous les périphériques requis (écran, caméra frontale, microphone et haut‑parleur). </p>

<p> Parallèlement, les <strong class="specialLB">applications pour la sphère professionnelle</strong> ne sont pas en reste : </p>
<ul>
	<li> après s'être longtemps cantonnées au développement de terminaux téléphoniques matériels, les <strong>grands industriels</strong> (<em class="mark">Alcatel-Lucent</em>, <em class="mark">Ericsson</em>, <em class="mark">Cisco</em>…) du secteur des télécommunication ont  ajouté à leurs gammes des <strong class="defin">softphones</strong> <a class="external" href="https://fr.wikipedia.org/wiki/Softphone" target="_BLANK">W</a>, c'est‑à‑dire des <strong>logiciels émulant la fonction téléphone/visiophone</strong> sur ordinateur ou même sur smartphone ;  </li>

	<li> beaucoup plus récemment, la pandémie de Covid‑19 a provoqué une <strong>forte croissance du télétravail</strong> et de la demande en <strong class="defin">logiciels de visioconférence</strong> <a class="external" href="https://fr.wikipedia.org/wiki/Visioconférence" target="_BLANK"></a>, parmi lesquels on peut citer <em class="mark">Zoom</em>, <em class="mark">Google Hangout</em>, <em class="mark">Skype premium</em>, <em class="mark">Cisco WebEx</em>, etc. </li>
</ul>
</div><!-- expert -->


<h4> Messagerie unifiée et communications unifiées</h4>


<div class="important">
<p> Parmi les <strong>services supplémentaires</strong> de téléphonie rendus possibles par la technologie <strong>VoIP</strong> figure aussi ce qu'on appelle la <strong class="title">messagerie unifiée</strong> <a class="external" href="https://en.wikipedia.org/wiki/Unified_messaging" target="_BLANK">W</a> (<em class="english">unified messaging</em>). </p>

<div style="display: inline-block;">
	<img class="top-right" src="../img/messagerieUnifiee.png" width="200px">
<p> Cela consiste à <strong class="defin">intégrer</strong> dans le <strong class="defin">service de messagerie électronique </strong> (courriels – cf. chap. R2‑VII <a class="previous" href="Rc2-7_messagerie.html" target="_BLANK"></a>) les <strong>autres services de communication</strong>, notamment téléphoniques (messagerie vocale, appels manqués, etc.), ainsi que la messagerie instantanée. </p>
</div><!-- display -->
</div><!-- important -->


<div class="complement">
<p> Dans les <strong class="title">services de messagerie unifiée</strong>, on trouve :  </p>
<ul>
	<li> l'intégration de données diverses sous formes de <strong class="defin">pièces jointes de courriels</strong> – <strong>fax</strong> numérisés au format <code>pdf</code>, <strong>messages vocaux</strong> ou vidéos numérisés au format <code>mp3</code> ou <code>mp4</code> ; </li>

	<li> la <strong class="defin">gestion communes des téléphones</strong> <strong>fixes</strong> ou <strong>mobiles</strong>, notamment pour la <strong>redirection des appels</strong> ; </li>

	<li> l'intégration de l'application de <strong class="defin">messagerie instantanée</strong> comme un <strong>service parmi d'autres</strong> au même titre que l'application de téléphonie ; cette fonctionnalité est déjà prise en charge depuis longtemps par les logiciels clients lourds de messagerie (<em class="mark">Thunderbird</em>, <em class="mark">Outlook</em>…), mais encore rarement utilisée ; </li>

	<li> la <strong class="defin">synchronisation de l'annuaire de contact</strong> avec <strong>toutes les applications de communication</strong> utilisées ; en effet, depuis longtemps, les annuaires de messagerie électronique permettent d'intégrer des champs de numéros de téléphones dans les fiches de contact, et réciproquement, les annuaires téléphoniques ont des champs d'adresse de courriel ; mais il est contre‑productifs que ces différents annuaires fassent <strong class="cons">double emploi</strong> ; les <strong class="pros">unifier</strong> ou les synchroniser est pertinent ;  </li>

	<li> la <strong class="defin">gestion du statut</strong> permettant de <strong>signaler la disponibilité</strong> ou non d'une personne pour un appel téléphonique…  </li>
</ul>
<p> Cette <strong class="title">intégration des services</strong> apporte des <strong class="pros">gains en ergonomie</strong>, puisqu'on dispose alors dans une seule application de <strong>tous les outils de communication</strong> individuelle ou collective. </p>
</div><!-- complement -->
	
<div style="display: inline-block;">
	<img class="top-right" src="../img/unifiedCommunications.png" width="400px">	
<p> Plus encore, la tendance est à une intégration encore générale des services appelée <strong class="title">communications unifiées</strong> <a class="external" href="https://fr.wikipedia.org/wiki/Communications_unifiées" target="_BLANK">W</a>. À la messagerie unifiée s'ajoutent le <strong class="defin">partages de documents</strong> voire même d'<strong class="defin">applications</strong>. </p>

<p> Une telle intégration prend tout son sens au sein de groupes de personnes liées par un <strong>travail collaboratif</strong> : équipe d'ingénieurs affectées un projet, équipes médicales partageant des dossiers de patients, etc. </p>
</div><!-- display -->




















<h2> Architecture matérielle et logicielle pour la <em class="mark">VoIP</em> </h2>



<h3> Rappels sur les technologies du RTC </h3>



<p> On a vu au chapitre R1‑I <a class="previous" href="../R1-Generalites/Rc1-1_notionsFondamentales.html#reseauRTC" target="_BLANK"></a> qu'<strong>avant la rationalisation</strong> par le « <strong>tout <em class="sigle">IP</em></strong> » des réseaux de télécommunication, la téléphonie était portée par un réseau spécifique dit <strong class="title"><em class="sigle">RTC</em></strong> ou <strong class="title">réseau téléphonique commuté</strong> – en anglais, <strong>public switched telephone network</strong> ou <strong><em class="sigle">PSTN</em></strong>. </p>

<div class="complement">
<div style="display: inline-block;">
  <img class="top-right" src="../img/PABX.jpg" width="300px">
<p> Pour qu'un <strong class="defin">grand nombre de personnels</strong> d'un <strong>organisme professionnel</strong> (entreprise, institution, etc.) puisse bénéficier des <strong class="defin">services téléphoniques</strong> sans souscrire à autant de lignes téléphoniques (ce qui aurait coûté beaucoup trop cher voire aurait été infaisable matériellement), il fallait installer un appareil appelé <strong class="title">commutateur central</strong> <a class="external" href="https://fr.wikipedia.org/wiki/Autocommutateur_téléphonique_privé" target="_BLANK">W</a> – ou <strong>central téléphonique</strong> – techniquement désigné d'abord <strong class="title"><em class="sigle">PABX</em></strong> (pour <em class="english">private automated branch exchange</em>), puis simplement <strong class="title"><em class="sigle">PBX</em></strong> (tous les commutateurs étant automatisés). </p>
</div><!-- display -->

<p> Cet équipement assurait notamment : </p>
<ul>
	<li> le <strong class="defin">multiplexage</strong> entre les <strong>lignes internes</strong> et <strong>externes</strong> de l'organisme, avec à la clef les services usuels de <strong class="defin">standard téléphonique</strong> (d'où ce terme parfois employé pour désigner l'appareil) ; </li>

	<li> le <strong class="defin">centre névralgique</strong> du réseau interne, permettant notamment les <strong>appels internes</strong> – c'est‑à‑dire entre les postes téléphoniques de l'organisme – sans passer par l'extérieur ; </li>

	<li> la <strong class="defin">gestion des droits</strong> des différents postes pour attribuer ou non l'<strong>accès</strong> au réseau téléphonique national, voire international ; </li>

	<li> le <strong class="defin">calcul des temps et des coûts</strong> des communications téléphoniques par poste raccordé… </li>
</ul>
</div><!-- complement -->

<div class="expert" id="RNIS">
<p> La <strong class="title">mise en œuvre</strong> de cette technologie était <strong class="cons">malcommode</strong>, avant tout parce que les <strong class="defin">services</strong> étaient <strong>attachés aux lignes téléphoniques</strong> et non pas aux équipements (les téléphones eux‑même). Ainsi, tout changement de bureau d'un personnel nécessitait une modification du paramétrage du <strong><em class="sigle">PBX</em></strong>. </p>

<p> De plus, avec le <strong class="defin">développement des services numériques</strong> – en France, les lignes dites <strong><em class="sigle">RNIS</em></strong> <a class="external" href="https://fr.wikipedia.org/wiki/Réseau_numérique_à_intégration_de_services" target="_BLANK">W</a> (en anglais <em class="sigle">ISDN</em>, pour <em class="english">integrated services digital network</em>) appelées commercialement <em class="mark">Numéris</em> par l'opérateur national historique devenu <em class="mark">Orange</em> <a class="external" href="https://fr.wikipedia.org/wiki/Orange_(entreprise)" target="_BLANK">W</a> – toute <strong class="title">modification</strong> du <strong><em class="sigle">PBX</em></strong> devenait <strong class="cons">de plus en plus complexe</strong> et nécessitait le plus souvent l'intervention d'un technicien spécialisé. </p>
</div><!-- expert -->


<h4> Fin annoncée du RTC </h4>


<div class="important">
<p> En France, l'<strong class="title">abandon du <em class="sigle">RTC</em></strong> est engagé depuis plus d'une dizaine d'année. Il est <strong class="defin">complètement achevé</strong> sur les <strong>réseaux de transport</strong>, ce qui fait qu'aujourd'hui, toute communication téléphonique passe au moins partiellement en technologie <strong>VoIP</strong>. </p>

<p> Avec le respect du délais de préavis de 5 ans imposés par l'<em class="mark">Arcep</em> (cf. le sujet de TP R1‑1 <a class="previous" href="../R1-Generalites/Rtp1-1_decouverte.html#exo1" target="_BLANK"></a>), la <strong class="warning">fin d'exploitation</strong> du <strong>réseau d'accès</strong> en technologie commutée (mais pas le support physique cuivre lui‑même, qui reste exploité en <em class="sigle">XDSL</em>) a commencé en <em class="bold">2021</em> et devrait s'échelonner sur l'ensemble du territoire durant <strong>une dizaine d'années encore </strong><a class="external" href="https://www.arcep.fr/demarches-et-services/utilisateurs/consommateurs-arret-rtc.html" target="_BLANK"></a>. </p>
</div><!-- important -->

<div class="complement">
<p> Pour les <strong class="specialLB">particuliers</strong>, une <strong class="title">alternative</strong> consiste à souscrire un <strong>abonnement multi‑service classique</strong> <strong class="defin">téléphone-télévision-Internet</strong> avec une box en liaison <strong><em class="sigle">ADSL</em></strong> ou <strong>fibre </strong> totalement dégroupée. On peut également opter pour une solution en <strong>technologie mobile</strong>, sauf si le lieu est encore une zone blanche. </p>

<p> Pour les <strong class="specialLB">professionnels</strong>, notamment ceux utilisant encore des lignes <em class="mark">RNIS</em>, il est impératif de <strong class="defin">re‑concevoir</strong> le <strong>système de téléphonie</strong> en migrant vers la technologie <strong class="defin">VoIP</strong>.  Essentiellement, <strong class="title">deux solutions</strong> sont envisageables : </p>
<ul>
	<li> soit le remplacement du <strong><em class="sigle">PABX</em></strong> par un <strong>central</strong> <strong class="defin"><em class="sigle">IPBX</em></strong> (c'est‑à‑dire un standard téléphonique en <strong>VoIP</strong>) et l'emploi de la technologie <strong class="defin">trunk <em class="sigle">SIP</em></strong> ;  </li>

	<li> soit l'abandon du central interne et son <strong>externalisation</strong> – dit <strong class="defin">Centrex</strong> – assurée par un <strong>opérateur téléphonique</strong>. </li>
</ul>
</div><!-- complement -->



<h3> <em class="mark">VoIP</em> via un central IPBX</em> </h3>



<div class="important" style="display: inline-block;">
	<img class="top-right" src="../img/IPBXicon.png" width="100px">
<p> Un <strong>central téléphonique</strong> <strong class="title"><em class="sigle">IPBX</em></strong> <a class="external" href="https://fr.wikipedia.org/wiki/IPBX" target="_BLANK">W</a> (<em class="english">Internet protocol private branch exchange</em>) est un équipement de réseau informatique qui assure en technologie <strong>VoIP</strong> la <strong class="defin">gestion des liaisons téléphoniques</strong> dans un <strong>réseau local</strong> et vers un réseau <strong><em class="sigle">IP</em></strong> externe (typiquement, l'Internet) et/ou le <strong><em class="sigle">RTC</em></strong>. </p>
</div><!-- important -->

<div class="complement" style="display: inline-block;">
	<img class="top-right" src="../img/IPBXtopology.png" width="500px">
<p> Un <strong class="title"><em class="sigle">IPBX</em></strong> seul n'assure <strong class="warning">jamais la liaison directe</strong> entre le <strong>réseau local</strong> et un <strong>réseau externe</strong> : il est intégré comme un <strong class="specialO">serveur</strong> doit être placé sous la protection d'une <strong class="defin">passerelle</strong> et de dispositifs de sécurité (pare‑feu, proxy), comme illustré par exemple sur la figure topologique ci‑contre. </p>

<div class="expert">
<p> Même si cela devient de plus en plus rare, pour relier un <strong class="title"><em class="sigle">IPBX</em></strong> à un <strong><em class="sigle">RTC</em></strong> (<em class="sigle">PSTN</em> en anglais), il faut recourir à une <strong class="defin">passerelle spécifique</strong> qui convertit en signaux analogiques les <strong class="specialO"><em class="sigle">PDU</em></strong> de <strong>VoIP</strong> pour le flux sortant vers le <em class="sigle">RTC</em> – et inversement pour le flux entrant. </p>
</div><!-- expert -->
</div><!-- complement -->


<div class="expert">
<h4> Notion de <em class="english">trunk</em> SIP</h4>


<p class="square"> L'<strong class="pros">avantage</strong> principal de recourir à un <strong><em class="sigle">IPBX</em> interne</strong>, c'est qu'elle laisse l'organisme libre de souscrire à <strong class="defin">divers abonnements</strong> auprès des <strong>opérateurs téléphoniques</strong>. </p>

<div class="complement">
<p> Une souscription d'abonnement consiste alors à mettre en place un <strong class="title">trunk <em class="sigle">SIP</em></strong> <a class="external" href="https://en.wikipedia.org/wiki/SIP_trunking" target="_BLANK">W</a> au réseau d'accès de l'opérateur, c'est‑à‑dire un <strong>tunnel virtuel</strong> qui sépare les <strong><em class="sigle">PDU</em></strong> téléphoniques des autres <strong><em class="sigle">PDU</em></strong>, en conformité avec le <strong class="defin">protocole de signalisation</strong> employé, typiquement le protocole <strong><em class="sigle">SIP</em></strong> – cf. infra <a class="infra" href="Rc2-8_fluxMultimedia.html#SIP"></a>.  </p>
</div><!-- complement -->


<p class="square"> L'<strong class="cons">inconvénient</strong> principal de cette solution, c'est qu'en plus du paramétrage du standard téléphonique, l'<strong class="defin">administration de l'<em class="sigle">IPBX</em></strong> (machine et logiciel) est entièrement <strong>à prendre en charge</strong> par l'organisme, avec les responsabilités que cela implique en termes de continuité de service et de sécurité.  </p>
</div><!-- expert -->


<h4> Technologie matérielle </h4>


<div class="complement"style="display: inline-block;">
<p> La <strong class="title">technologie matérielle</strong> pour mettre en œuvre un <strong class="title"><em class="sigle">IPBX</em></strong> dépend, comme pour tous les services, de la <strong class="defin">taille de l'installation</strong>, qui est essentiellement caractérisée par le <strong>nombre de postes téléphoniques</strong> (physiques ou logiciels) qui sont <strong>utilisés simultanément</strong> sur le réseau. </p>
<ul>
	<div style="display: inline-block;">
		<img class="top-right" src="../img/nanoOrdinateur.png" width="250px" style="padding-top: 0.5em">
	<li> Pour les <strong class="specialLB">petites installations</strong> (moins d'une dizaine de postes), un <strong class="defin">simple ordinateur</strong> – voire un nano‑ordinateur – suffit, à partir du moment où ses caractéristiques lui permettent d'exécuter avec des performances satisfaisantes une <strong class="specialO">application dédiée</strong> de téléphonie en <strong>VoIP</strong> (par exemple, <em class="mark">Asterisk</em>). </li>
  </div><!-- display -->
  
  <div style="display: inline-block;" >
  	<img class="top-right" src="../img/IPBX_Aastra-470.png" width="400px" style="padding-top: 0.5em">
	<li> Pour les <strong class="specialLB">installations moyennes et grandes</strong>, il faut une voire plusieurs <strong class="defin">machine(s) dédiée(s)</strong> selon la charge. Un sous‑dimensionnement peut avoir un impact très négatif sur la qualité de service (cf. infra <a class="infra" href="Rc2-8_fluxMultimedia.html#qualiteService"></a>). </li>

	<div class="nobullet"> Afin de garantir sa <strong class="pros">continuité de service</strong>, une telle machine peut intégrer un système de redondance de niveau <strong><em class="sigle">RAID 1</em></strong> (cf. chap. R2‑V <a class="previous" href="Rc2-5_serveursFichiers.html#RAID" target="_BLANK"></a>) de son disque dur. </div>
	</div><!-- display -->
</ul>
</div><!-- complement -->


<h4> Technologie logicielle </h4>


<div class="important">
<p> Sur une machine <strong><em class="sigle">IPBX</em></strong>, les services de standard téléphonique sont assurés par une <strong class="title">application principale</strong> – qu'on appelle souvent <strong><em class="sigle">IPBX</em></strong> par métonymie – et divers <strong class="defin">composants logiciels</strong> associés. </p>

<p> En particulier, l'application doit jouer le <strong>serveur</strong> pour les principaux <strong class="defin">protocoles de VoIP</strong>, notamment <strong><em class="sigle">RTP</em></strong> et <strong><em class="sigle">SIP</em></strong> – cf. infra <a class="infra" href="Rc2-8_fluxMultimedia.html#SIP"></a>.  </p>
</div><!-- important -->

<div class="complement">
<p> Les <strong class="title">applications <em class="sigle">IPBX</em></strong> se distinguent les unes des autres essentiellement par le <strong>nombre</strong> et la <strong>diversité</strong> des <strong class="defin">services</strong> qu'elles peuvent mettre en œuvre. Parmi les plus connues, on peut citer : </p>
<ul>
	<div style="display: inline-block;">
  	<img class="top-right" src="../img/logoAsterisk.png" width="150px" style="padding-top: 0.5em">
	<li> <strong class="specialLB">Asterisk</strong> <a class="external" href="https://fr.wikipedia.org/wiki/Asterisk_(logiciel)" target="_BLANK">W</a>, qui est <strong>multiplateforme</strong> et qui offre une <strong class="pros">licence libre de droit</strong> pour un nombre appréciable de services ;   </li>
  </div><!-- display -->

  <div style="display: inline-block;">
  	<img class="top-right" src="../img/logo3CX.png" width="120px" style="padding-top: 0.5em">
	<li> <strong class="specialLB">3CX Phone System</strong>, pour systèmes d'exploitation <strong>Windows</strong> et <strong>Linux</strong>, dont la licence est <strong class="cons">payante</strong> (donc plutôt réservée au monde professionnel). </li>
	</div><!-- display -->
</ul>
<p> Pour découvrir d'autres applications <strong><em class="sigle">IPBX</em></strong>, on pourra consulter la liste donnée par Wikipedia <a class="external" href="https://fr.wikipedia.org/wiki/Liste_des_logiciels_SIP#Serveurs_SIP" target="_BLANK">W</a>. </p>
</div><!-- complement -->


<div class="expert">
<h4 > Questions de sécurité </h4>


<div class="complement">
<p> En termes de <strong>sécurité</strong> et de <strong>confidentialité</strong>, un <strong class="title"><em class="sigle">IPBX</em></strong> est une <strong class="warning">machine sensible</strong>. Sans protections adéquates, en plus des attaques classiques sur les systèmes informatiques, elle peut être victime de l'installation : </p>
<ul>
	<li> d'un <strong class="cons">logiciel espion</strong> pour écouter les conversations stratégiques ;   </li>

	<li> d'un <strong class="cons">générateur d'appel</strong> vers des <strong>numéros surtaxés</strong> qui peuvent rapidement occasionner des pertes financières importantes. </li>
</ul>
</div><!-- complement -->
</div><!-- expert -->


<h3> <em class="mark">VoIP</em> par <em class="mark">Centrex</em> IP </h3>


<div class="important" style="display: inline-block;">
	<img class="top-right" src="../img/CentrexIcon.png" width="200px">
<p> On appelle <strong class="title">Centrex</strong> <a class="external" href="https://fr.wikipedia.org/wiki/Centrex_IP" target="_BLANK">W</a> un <strong class="defin">central téléphonique VoIP externalisé</strong> chez un <strong>opérateur de téléphonie</strong> – on peut aussi parler d'<strong class="defin"><em class="sigle">IPBX</em> <em class="english">cloud</em></strong>.  </p>

<p> Moyennant la souscription d'un contrat : </p>
<ul>
	<li> c'est alors l'<strong class="specialLB">opérateur</strong> qui prend en charge l'<strong>investissement matériel</strong> et l'<strong>administration</strong> de l'<strong><em class="sigle">IPBX</em></strong> ; il en assume la sécurité ; </li>

	<li> l'organisme <strong class="specialLB">souscripteur</strong> peut néanmoins avoir directement la main sur <strong>une partie du paramétrage</strong> du standard téléphonique par l'intermédiaire de <strong>pages web</strong>. </li>
</ul>
</div><!-- important -->

<div class="complement">
	<img class="top-left" src="../img/CentrexTopology.png" style="min-width: 1000px">
<p> Avec la solution <strong class="title">Centrex</strong> (cf. la topologie de principe en figure ci‑dessus), le <strong>flux de données téléphonique</strong> est <strong class="defin">identifié chez l'opérateur</strong> via les protocoles de signalisation (<strong><em class="sigle">SIP</em></strong>, etc.) et des adresses <strong><em class="sigle">IP</em></strong> des postes téléphoniques de l'organisme souscripteur. Ces derniers bénéficient donc d'un <strong class="pros">mobilité totale</strong> dès lors qu'ils passent par une application de téléphonie <strong>VoIP</strong> correctement paramétrée. Les personnels peuvent ainsi utiliser leur(s) téléphone(s) partout (moyennant un accès réseau) exactement comme s'ils étaient sur leur lieu de travail. </p>

<p> En contreparties, l'organisme souscripteur perd la garantie absolue de la <strong class="cons">confidentialité</strong> de ses flux téléphoniques. De plus, la solution <strong class="title">Centrex</strong> peut s'avérer moins diverses et moins souple en termes de services. Enfin, les <strong>appels internes</strong> passant nécessairement par l'extérieur, ils occasionnent une <strong class="cons">charge supplémentaire</strong> sur la bande passante au réseau d'accès à l'Internet dont bénéficie l'organisme. </p>
</div><!-- complement -->



<h3> Dimensionnement de la liaison au réseau d'accès </h3>


<div class="important">
<p> Quelle que soit la solution adoptée, la <strong>téléphonie VoIP</strong> doit impérativement être prise en compte pour le <strong class="defin">dimensionnement</strong> de la <strong class="title">liaison au réseau d'accès</strong> à l'Internet, en termes de <strong>débits descendants</strong> <strong><em class="remark">et</em></strong> <strong>montants</strong>.  </p>

<p> Ce dimensionnement dépend essentiellement du <strong class="defin">nombre d'appels simultanés</strong> à prendre en charge et de la <strong class="defin">qualité sonore et visuelle</strong> exigée – donc du choix des <strong>codecs</strong> utilisés (cf. supra <a class="supra" href="Rc2-8_fluxMultimedia.html#codecs" target="_BLANK"></a>). </p>
</div><!-- important -->

<div class="complement">
<p> Notons que le <strong class="title">nombre d'appels simultanés</strong> à prendre en compte n'est pas le même selon que l'on opère avec un <strong class="specialLB"><em class="sigle">IPBX</em> interne</strong> ou avec un <strong class="specialLB">Centrex</strong>. Dans ce dernier cas, les <strong>appels internes</strong> doivent <strong class="warning">aussi</strong> être comptés, comme cela a déjà été souligné. </p>

<p> Quant au <strong class="title">choix des codecs</strong>, il est certes bouleversé par l'apparition de nouvelles technologies comme <strong>Opus</strong> (cf. supra <a class="supra" href="Rc2-8_fluxMultimedia.html#codecs"></a>) qui, à qualité égale, diminuent grandement la consommation de bande passante par rapport à celle de ses concurrents. Néanmoins, le choix de la <strong class="defin">qualité</strong> reste un paramètre essentiel. </p>

<p> On retiendra les ordres de grandeur suivants de <strong class="title">consommation moyenne</strong> par appel : </p>
<ul>
	<li> <em class="bold">30 kb/s</em> en <strong>audio basse qualité</strong> ; </li>

	<li> <em class="bold">80 kb/s</em> en <strong>audio haute qualité</strong>. </li>
</ul>
</div><!-- complement -->


<div class="expert">
<h4> Choix du type de ligne d'accès </h4>	


<p> En règle générale, avec la téléphonie en <strong>VoIP</strong>, une <strong class="title">ligne d'accès à l'Internet</strong> peut être choisie entre <strong class="defin">deux alternatives</strong> : </p>

<ul>
	<li> en technologie cuivre <strong class="specialLB"><em class="sigle">SDSL</em></strong> <a class="external" href="https://fr.wikipedia.org/wiki/Symmetric_Digital_Subscriber_Line" target="_BLANK">W</a>  – avec un « <strong><em class="sigle">S</em></strong> » initial pour <strong>symétrique</strong> car les débits montants et descendants ne sont a priori pas différents ;  </li>

	<li> en technologie à <strong>fibre optique</strong>, typiquement <strong class="specialLB"><em class="sigle">FTTO</em></strong> <a class="external" href="https://fr.wikipedia.org/wiki/Fibre_to_the_office" target="_BLANK">W</a> (<em class="english">fiber to the office</em>) pour les entreprises. </li>
</ul>
 
<p> Dans tous les cas, un <strong class="title">sous‑dimensionnement</strong> occasionne non seulement un <strong class="cons">congestion générale des flux de données</strong>, mais aussi <strong>deux défauts</strong> qui impactent directement la <strong class="defin">qualité de service</strong> en téléphonie : la <strong class="warning">latence</strong> et la <strong class="warning">gigue</strong>. </p>


<!-- expert -->
<h4 id="qualiteService"> Notions de <em>latence</em> et de <em>gigue</em> </h4>

<div class="complement">
<p> Dans le domaine de la transmission de données sur les <strong class="title">réseaux informatiques</strong> : </p>

<ul>
	<li> la <strong class="title">latence</strong> <a class="external" href="https://fr.wikipedia.org/wiki/Latence_(informatique)" target="_BLANK">W</a> (<em class="english">latency</em>) est le <strong class="defin">délai de transmission</strong> d'un <strong><em class="sigle">PDU</em></strong> entre son émission et sa réception ; </li>

	<li> la <strong class="title">gigue</strong> <a class="external" href="https://fr.wikipedia.org/wiki/Latence_(informatique)" target="_BLANK">W</a> (en anglais <em class="english">jitter</em>, et plus scientifiquement <em class="english">packet delay variation</em>) est la <strong class="defin">variation dans le temps</strong> de la <strong>latence</strong>. </li>
</ul>
</div><!-- complement -->

<p class="square"> La <strong class="title">latence</strong> est <strong>inévitable</strong> mais elle doit <strong>rester modérée</strong>. Tant qu'elle est <strong class="defin">inférieure à</strong> <em class="bold">150 ms</em>, elle est quasiment <strong class="pros">imperceptible</strong>. Tolérer une légère latence octroie une meilleure fluidité au débit de parole, qui est une condition essentielle pour une bonne interactivité entre locuteurs. </p>

<p> Mais au dessus de cette valeur, la situation se complique.	En effet, au cours d'une conversation, le débit de parole varie et subit des temps d'hésitation variables. Une <strong>latence trop importante</strong> – typiquement, <strong class="warning">supérieure à</strong> <em class="bold">500 ms</em> – va nécessairement générer des <strong class="cons">silences</strong> du locuteur, qui risquent fort d'être interprétés comme volontaires, et donc pousser l'autre locuteur à prendre la parole alors qu'il sera inévitablement interrompu par l'arrivée des signaux en retard. </p>

<p class="square"> La <strong class="title">gigue</strong> pose plus de problème, parce qu'elle est <strong class="cons">imprévisible</strong> et peut occasionner <strong>ponctuellement</strong> des <strong class="warning">retards très importants</strong>. Pénibles en soi, ces derniers ont aussi la conséquence fâcheuse de perturber le bon fonctionnement des protocoles de communication. La gigue crée donc un cercle vicieux. Plus elle est élevée, plus la congestion du réseau s'accentue, ce qui a tendance à l'amplifier. </p>
</div><!-- expert -->



<h3> Les protocoles de signalisation </h3>



<div class="important">
<p> En téléphonie, visiophonie et plus généralement dans le cadre d'une messagerie unifiée, la <strong class="title">signalisation</strong> <a class="external" href="https://en.wikipedia.org/wiki/Signaling_(telecommunications)" target="_BLANK"></a> est l'ensemble des techniques qui permettent le <strong class="defin">contrôle des communications</strong>, c'est‑à‑dire typiquement l'<strong>initialisation</strong> et la <strong>clôture</strong> d'une session. </p>
</div><!-- important -->

<div class="complement">
<p>  À la requête d'un client appelant, le <strong class="title">protocole de signalisation</strong> assure notamment :  </p>
<ul>
	<li> la <strong class="defin">recherche</strong> du ou des appelés ; </li>

	<li> la <strong class="defin">signalisation</strong> de l'<strong>appel</strong> à l'appelé (typiquement, ce qui déclenche la sonnerie) ainsi que de la <strong>fin d'appel</strong>  (le fait qu'un client ait raccroché). </li>
</ul>
</div><!-- complement -->


<div style="display: inline-block;">
	<img class="top-right" src="../img/DTMFcodes.png" width="250px" style="margin-top:0em">		
<p> Depuis les années 1980, le <strong class="title">protocole <em class="sigle">SS7</em></strong> <a class="external" href="https://fr.wikipedia.org/wiki/Signaling_System_7" target="_BLANK">W</a> (<em class="english">signaling system #7</em>) s'était imposé sur les <strong><em class="sigle">RTC</em></strong> et les réseaux de téléphonie mobile avec notamment, pour l'identification des touches de numéros saisies par l'appelant l'<strong class="pros">abandon</strong> des <strong>doubles fréquences sonores</strong> – plus précisément, la <strong>technologie</strong> <strong class="specialLB"><em class="sigle">DTMF</em></strong> <a class="external" href="https://fr.wikipedia.org/wiki/Code_DTMF" target="_BLANK">W</a> (cf. la figure ci‑contre) – qui étaient facilement piratables <a class="external" href="https://fr.wikipedia.org/wiki/Blue_box" target="_BLANK">W</a>. </p>

<p> Mais depuis 2014, cette technologie est considérée quand même comme <strong class="cons">faillible</strong> en termes de <strong>sécurité</strong> (des possibilité de géolocalisation des téléphones et d'interception des communications ont été mises en évidence). </p>
</div><!-- display -->

<p>	Quant à la technologie <strong>VoIP</strong>, elle recourait au début à la famille de <strong>protocoles</strong> <strong class="title"><em class="sigle">H.323</em></strong> <a class="external" href="https://fr.wikipedia.org/wiki/H.323" target="_BLANK">W</a>, eux‑même dérivé des protocoles <strong><em class="sigle">H.320</em></strong> utilisés sur les <strong><em class="sigle">RNIS</em></strong>. </p>

<p> Aujourd'hui, tous ces protocoles sont <strong class="defin">abandonnés</strong> au profit du protocole <strong><em class="sigle">SIP</em></strong>. </p>


<h4> Le protocole <em class="sigle">SIP</em>  –  généralités</h4>


<div class="important">
<div style="display: inline-block;">
	<img class="top-right" src="../img/coucheApplication.png" width="150px" style="margin-top:1em">		
<p> Le <strong class="title">protocole <em class="sigle">SIP</em></strong> <a class="external" href="https://fr.wikipedia.org/wiki/Session_Initiation_Protocol" target="_BLANK">W</a> (<em class="english">session initiation protocol</em>) est un protocole applicatif (couche n° 7 du modèle <em class="sigle">OSI</em>) de <strong class="defin">signalisation</strong> de sessions en <strong>VoIP</strong> et la <strong class="defin">gestion de statut</strong> des utilisateurs. <strong class="pros">Ouvert</strong> et <strong class="pros">libre de droits</strong>, il est aujourd'hui universellement employé en <strong>téléphonie mobile et fixe</strong>, et plus généralement dans les <strong class="defin">applications de communication</strong> grand‑public (<em class="mark">Whatsapp</em>, <em class="mark">Skype</em>, etc.). </p>
</div><!-- display -->

<p> Développé à la fin des années 1990, le <strong class="title">protocole <em class="sigle">SIP</em></strong> est maintenant basé sur la <strong><em class="sigle">RFC 3261</em></strong> <a class="external" href="https://www.rfc-editor.org/rfc/rfc3261" target="_BLANK"></a> publiée en 2002. Parce qu'il opère sur des <strong class="pros">données peu volumineuses</strong>, il recourt au protocole de transport <strong><em class="sigle">UDP</em></strong> (cf. chap. R1-IV <a class="previous" href="../R1-Generalites/Rc1-4_protocoles.html#UDP" target="_BLANK"></a>). Il s'appuie sur le protocole applicatif <strong><em class="sigle">SDP</em></strong> <a class="external" href="https://fr.wikipedia.org/wiki/Session_Initiation_Protocol" target="_BLANK">W</a> pour la <strong class="defin">coordination du codec</strong> utilisé par les agents interlocuteurs. </p>
</div><!-- important -->


<div class="complement">
<p class="square" style="margin-top:0em"> Le <strong class="title">protocole <em class="sigle">SIP</em></strong> utilise par défaut le <strong>port nº 5060</strong> et, dans sa version sécurisée par <strong class="specialLB"><em class="sigle">TLS</em></strong>, le port <strong class="specialLB">nº 5061</strong>. </p>

<div class="expert">
<p> Toutefois, comme il ne s'agit <strong class="defin">pas</strong> de <strong>well‑known ports</strong> (cf. chap. R3‑I <a class="next" href="../R3-TransportReseauLiaison/Rc3-1_coucheTransport.html#ports" target="_BLANK"></a>), il est possible de recourir à d'<strong class="specialO">autres numéros ports</strong>, à condition de changer ce qu'on appelle les <strong>profiles <em class="sigle">SIP</em></strong> des agents utilisateurs (typiquement, les agents utilisateurs). </p>
</div><!-- expert -->


<p class="square"> À l'instar des protocoles de messagerie électronique (<strong><em class="sigle">SMTP</em></strong>, <strong><em class="sigle">IMAP</em></strong>), le <strong>protocole <em class="sigle">SIP</em></strong> utilise des <strong class="defin">identifiants littéraux</strong> pour identifier les agents utilisateurs et leurs spécificités. Similaire aux <strong><em class="sigle">URL</em></strong> de schéma <code class="filename">mailto</code>, un <strong class="title">identifiant <em class="sigle">SIP</em></strong> est un <strong><em class="sigle">URI</em></strong> (<em class="english">uniform resource identifier</em> <a class="external" href="https://fr.wikipedia.org/wiki/Uniform_Resource_Identifier" target="_BLANK">W</a>) dont la <strong>forme simple</strong> est la suivante : <br> 
<span class="inline" style="background: ivory">
   <code>sip:<span class="nocode"><strong class="specialT">utilisateur</strong></span>@<span class="nocode"><strong class="specialR">hôte</strong></span></span></code>
</span> <br>
où : </p>
<ul>
	<li> l'<strong class="specialT">utilisateur</strong> peut être : </li>
	<ul>
		<li> un <strong>nom composé</strong> avec le point séparateur <code class="filename">.</code> typiquement de la forme <code class="filename"><strong>prénom</strong>.<strong>nom</strong></code> ; </li>
	
		<li> ou encore un <strong>numéro de téléphone</strong>, typiquement formaté selon le standard <strong><em class="sigle">E.164</em></strong> <a class="external" href="https://en.wikipedia.org/wiki/E.164" target="_BLANK">W</a> ; </li>
	</ul>
  
  <div class="nobullet"> sachant qu'ils doivent être enregistrés dans le <strong>serveur proxy <em class="sigle">SIP</em></strong> du domaine ;   </div>


	<li> l'<strong class="specialR">hôte</strong> doit être un <strong>nom de domaine</strong> ayant préalablement fait l'objet d'un <strong class="defin">enregistrement <em class="sigle">DNS</em></strong> de type <strong><em class="sigle">SVR</em></strong> <a class="external" href="https://fr.wikipedia.org/wiki/Enregistrement_de_service" target="_BLANK">W</a>.</li>
</ul>

<p class="square"> Le <strong class="title">mode opératoire</strong> du protocole <strong><em class="sigle">SIP</em></strong> est très similaire à celui des protocoles de messagerie électronique (<strong><em class="sigle">SMTP</em></strong>, <strong><em class="sigle">IMAP</em></strong>). Il procède par <strong class="defin">échanges de lignes de caractères</strong> (chacune terminée par un saut de ligne <code class="prettyprint lang-c">\r \n</code>) et :   </p>
<ul>
	<li> les <strong>requêtes</strong> formulées sous forme de <strong class="defin">commandes</strong> <a class="external" href="https://w3tel.com/documentation-voip/protocole-sip/requetes-sip/" target="_BLANK"></a>;   </li>

	<li> les <strong>réponses</strong> sont formulées sous la forme de <strong class="defin">codes numériques de statut</strong> <a class="external" href="https://en.wikipedia.org/wiki/List_of_SIP_response_codes" target="_BLANK">W</a>. </li>
</ul>
<p> Le <strong>protocole <em class="sigle">SIP</em></strong> peut être analysé selon un <strong class="title">modèle client‑serveur</strong>. </p>

</div><!-- complement -->

<img class="top-left" src="../img/SIPexample.png" style="max-width: 800px"> </p>

<div class="expert">
<p> Pour <strong class="title">plus de détails</strong> sur le déroulement du protocole SIP, on pourra visionner la série de vidéo proposée par cette chaîne spécialisée <a class="external" href="https://www.youtube.com/@user-vp3vn5hy1j" target="_BLANK">Y</a>.</p>
</div><!-- expert -->


<h3> Postes téléphoniques en <em class="mark">VoIP</em> </h3>



<div class="important">
<p> Un <strong class="title">poste téléphonique VoIP</strong> <a class="external" href="https://en.wikipedia.org/wiki/VoIP_phone" target="_BLANK"></a> est avant tout un <strong class="defin">client terminal</strong> (<em class="english">end‑point client</em>) pour les <strong>protocoles de VoIP</strong>, tout particulièrement <strong><em class="sigle">SIP</em></strong>. </p>

<p> Concrètement, un <strong class="title">terminal VoIP</strong> peut se décliner aussi bien comme un <strong>téléphone « fixe »</strong>, également dit <strong>hardphone</strong> (avec éventuellement un combiné sans‑fil), comme un <strong>téléphone mobile</strong> (via une application) ou encore comme ce qu'on appelle un <strong>softphone</strong> (une application de téléphonie sur ordinateur). </p>
</div><!-- important -->


<h4> Téléphones « fixes » </h4>


<p> alimentation <strong>PoE</strong> (<em class="english">power over Ethernet</em>) <a class="external" href="https://fr.wikipedia.org/wiki/Alimentation_électrique_par_câble_Ethernet" target="_BLANK">W</a> </p>


<h4> Téléphones mobiles </h4>


<p> Il faut installer une <strong class="defin">applications spécifique VoIP</strong> et la paramétrer en accord avec la configuration de la technologie adoptée (<em class="sigle">IPBX</em> interne ou <em>Centrex</em>). </p>


<h4> Softphones </h4>


<p> De même, il faut installer une <strong class="defin">applications spécifique VoIP</strong> et la paramétrer en accord avec la configuration de la technologie adoptée (<em class="sigle">IPBX</em> interne ou <em>Centrex</em>). </p>
<p> Applications spécifiques VoIP + kit micro hauts-parleurs </p>



<!-- protocole RTSP et technologie ONVIF caméras de surveillance -->

</section>


</div><!-- #scrollingFrame -->

</div><!-- #mainFrame -->

</body>

</html>
